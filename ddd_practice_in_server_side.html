<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.7.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"taccisum.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="å‰è¨€ä»€ä¹ˆæ˜¯ DDDDDD å…¨ç§°é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼Œæœ€åˆç”± Eric Evans æå‡ºï¼Œåˆç»†åˆ†ä¸ºæˆ˜ç•¥è®¾è®¡å’Œæˆ˜æœ¯è®¾è®¡ä¸¤ä¸ªå±‚é¢ã€‚æˆ‘ä»¬åœ¨æ­¤è®¨è®ºçš„å‡å±äºæˆ˜æœ¯è®¾è®¡èŒƒç•´ï¼ˆå³ä»£ç å±‚é¢çš„è®¾è®¡ï¼‰ã€‚ DDD æˆ˜æœ¯è®¾è®¡æœ¬è´¨ä¸Šæ˜¯é¢å‘å¯¹è±¡çš„ä¸€ç§è®¾è®¡æ–¹æ³•ã€‚æ ¹æœ¬ç›®çš„ä¸é¢å‘å¯¹è±¡ä¸€è‡´ï¼Œä»ç„¶æ˜¯ä¸ºäº†è§£å†³è½¯ä»¶é¡¹ç›®ä¸­ä¸æ–­å¢é•¿çš„å¤æ‚æ€§é—®é¢˜ã€‚ DDD çš„é€‚åº”èŒƒå›´æ¯”é¢å‘å¯¹è±¡è®¾è®¡è¦ç‹­çª„ï¼Œä½†æ®æˆ‘ä»¬çš„å®è·µï¼Œè‡³å°‘åœ¨æœåŠ¡ç«¯å¼€å‘çš„é¢†åŸŸï¼ŒDDD èƒ½å¾ˆå¥½åœ°äº§ç”Ÿä»–çš„æ•ˆç”¨">
<meta property="og:type" content="article">
<meta property="og:title" content="DDD æˆ˜æœ¯è®¾è®¡ä¹‹æœåŠ¡ç«¯è½åœ°å®è·µ">
<meta property="og:url" content="https://taccisum.github.io/ddd_practice_in_server_side.html">
<meta property="og:site_name" content="Taccisum&#39;s blog ğŸ˜‰">
<meta property="og:description" content="å‰è¨€ä»€ä¹ˆæ˜¯ DDDDDD å…¨ç§°é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼Œæœ€åˆç”± Eric Evans æå‡ºï¼Œåˆç»†åˆ†ä¸ºæˆ˜ç•¥è®¾è®¡å’Œæˆ˜æœ¯è®¾è®¡ä¸¤ä¸ªå±‚é¢ã€‚æˆ‘ä»¬åœ¨æ­¤è®¨è®ºçš„å‡å±äºæˆ˜æœ¯è®¾è®¡èŒƒç•´ï¼ˆå³ä»£ç å±‚é¢çš„è®¾è®¡ï¼‰ã€‚ DDD æˆ˜æœ¯è®¾è®¡æœ¬è´¨ä¸Šæ˜¯é¢å‘å¯¹è±¡çš„ä¸€ç§è®¾è®¡æ–¹æ³•ã€‚æ ¹æœ¬ç›®çš„ä¸é¢å‘å¯¹è±¡ä¸€è‡´ï¼Œä»ç„¶æ˜¯ä¸ºäº†è§£å†³è½¯ä»¶é¡¹ç›®ä¸­ä¸æ–­å¢é•¿çš„å¤æ‚æ€§é—®é¢˜ã€‚ DDD çš„é€‚åº”èŒƒå›´æ¯”é¢å‘å¯¹è±¡è®¾è®¡è¦ç‹­çª„ï¼Œä½†æ®æˆ‘ä»¬çš„å®è·µï¼Œè‡³å°‘åœ¨æœåŠ¡ç«¯å¼€å‘çš„é¢†åŸŸï¼ŒDDD èƒ½å¾ˆå¥½åœ°äº§ç”Ÿä»–çš„æ•ˆç”¨">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2021-11-16T08:24:20.975Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DDD æˆ˜æœ¯è®¾è®¡ä¹‹æœåŠ¡ç«¯è½åœ°å®è·µ">
<meta name="twitter:description" content="å‰è¨€ä»€ä¹ˆæ˜¯ DDDDDD å…¨ç§°é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼Œæœ€åˆç”± Eric Evans æå‡ºï¼Œåˆç»†åˆ†ä¸ºæˆ˜ç•¥è®¾è®¡å’Œæˆ˜æœ¯è®¾è®¡ä¸¤ä¸ªå±‚é¢ã€‚æˆ‘ä»¬åœ¨æ­¤è®¨è®ºçš„å‡å±äºæˆ˜æœ¯è®¾è®¡èŒƒç•´ï¼ˆå³ä»£ç å±‚é¢çš„è®¾è®¡ï¼‰ã€‚ DDD æˆ˜æœ¯è®¾è®¡æœ¬è´¨ä¸Šæ˜¯é¢å‘å¯¹è±¡çš„ä¸€ç§è®¾è®¡æ–¹æ³•ã€‚æ ¹æœ¬ç›®çš„ä¸é¢å‘å¯¹è±¡ä¸€è‡´ï¼Œä»ç„¶æ˜¯ä¸ºäº†è§£å†³è½¯ä»¶é¡¹ç›®ä¸­ä¸æ–­å¢é•¿çš„å¤æ‚æ€§é—®é¢˜ã€‚ DDD çš„é€‚åº”èŒƒå›´æ¯”é¢å‘å¯¹è±¡è®¾è®¡è¦ç‹­çª„ï¼Œä½†æ®æˆ‘ä»¬çš„å®è·µï¼Œè‡³å°‘åœ¨æœåŠ¡ç«¯å¼€å‘çš„é¢†åŸŸï¼ŒDDD èƒ½å¾ˆå¥½åœ°äº§ç”Ÿä»–çš„æ•ˆç”¨">

<link rel="canonical" href="https://taccisum.github.io/ddd_practice_in_server_side.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>DDD æˆ˜æœ¯è®¾è®¡ä¹‹æœåŠ¡ç«¯è½åœ°å®è·µ | Taccisum's blog ğŸ˜‰</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="stylesheet" href="/css/prism-ghcolors.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Taccisum's blog ğŸ˜‰</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://taccisum.github.io/ddd_practice_in_server_side.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="taccisum">
      <meta itemprop="description" content="el psy congroo.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Taccisum's blog ğŸ˜‰">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          DDD æˆ˜æœ¯è®¾è®¡ä¹‹æœåŠ¡ç«¯è½åœ°å®è·µ
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-11-16 16:04:22 / Modified: 16:24:20" itemprop="dateCreated datePublished" datetime="2021-11-16T16:04:22+08:00">2021-11-16</time>
            </span>

          
            <span id="/ddd_practice_in_server_side.html" class="post-meta-item leancloud_visitors" data-flag-title="DDD æˆ˜æœ¯è®¾è®¡ä¹‹æœåŠ¡ç«¯è½åœ°å®è·µ" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/ddd_practice_in_server_side.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/ddd_practice_in_server_side.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><h2 id="ä»€ä¹ˆæ˜¯-DDD"><a href="#ä»€ä¹ˆæ˜¯-DDD" class="headerlink" title="ä»€ä¹ˆæ˜¯ DDD"></a>ä»€ä¹ˆæ˜¯ DDD</h2><p>DDD å…¨ç§°<strong>é¢†åŸŸé©±åŠ¨è®¾è®¡</strong>ï¼Œæœ€åˆç”± Eric Evans æå‡ºï¼Œåˆç»†åˆ†ä¸º<strong>æˆ˜ç•¥è®¾è®¡</strong>å’Œ<strong>æˆ˜æœ¯è®¾è®¡</strong>ä¸¤ä¸ªå±‚é¢ã€‚æˆ‘ä»¬åœ¨æ­¤è®¨è®ºçš„å‡å±äºæˆ˜æœ¯è®¾è®¡èŒƒç•´ï¼ˆå³ä»£ç å±‚é¢çš„è®¾è®¡ï¼‰ã€‚</p>
<p>DDD æˆ˜æœ¯è®¾è®¡æœ¬è´¨ä¸Šæ˜¯é¢å‘å¯¹è±¡çš„ä¸€ç§è®¾è®¡æ–¹æ³•ã€‚æ ¹æœ¬ç›®çš„ä¸é¢å‘å¯¹è±¡ä¸€è‡´ï¼Œä»ç„¶æ˜¯ä¸ºäº†è§£å†³è½¯ä»¶é¡¹ç›®ä¸­ä¸æ–­å¢é•¿çš„å¤æ‚æ€§é—®é¢˜ã€‚</p>
<p>DDD çš„é€‚åº”èŒƒå›´æ¯”é¢å‘å¯¹è±¡è®¾è®¡è¦ç‹­çª„ï¼Œä½†æ®æˆ‘ä»¬çš„å®è·µï¼Œè‡³å°‘åœ¨æœåŠ¡ç«¯å¼€å‘çš„é¢†åŸŸï¼ŒDDD èƒ½å¾ˆå¥½åœ°äº§ç”Ÿä»–çš„æ•ˆç”¨ã€‚</p>
<h3 id="DDD-èƒ½å¸¦æ¥ä»€ä¹ˆ"><a href="#DDD-èƒ½å¸¦æ¥ä»€ä¹ˆ" class="headerlink" title="DDD èƒ½å¸¦æ¥ä»€ä¹ˆ"></a>DDD èƒ½å¸¦æ¥ä»€ä¹ˆ</h3><ul>
<li>ç»Ÿä¸€çš„æœ¯è¯­ï¼Œå¤§å¤§é™ä½å›¢é˜Ÿå†…çš„æ²Ÿé€šæˆæœ¬</li>
<li>æ–‡æ¡£çº§å¯è¯»æ€§çš„ä»£ç </li>
<li>é«˜åº¦çš„ä»£ç å¤ç”¨æ€§</li>
<li>é«˜åº¦çš„ä»£ç å¯æµ‹è¯•æ€§ï¼Œè¿›è€Œå¸¦æ¥ç¨³å®šæ€§</li>
<li>æ•æ·æ€§ï¼Œå…è®¸å¿«é€Ÿå¤ç”¨ç°æœ‰èƒ½åŠ›æ»¡è¶³ç°å®éœ€æ±‚çš„å˜åŒ–</li>
</ul>
<h3 id="DDD-ä¸èƒ½å¸¦æ¥ä»€ä¹ˆ"><a href="#DDD-ä¸èƒ½å¸¦æ¥ä»€ä¹ˆ" class="headerlink" title="DDD ä¸èƒ½å¸¦æ¥ä»€ä¹ˆ"></a>DDD ä¸èƒ½å¸¦æ¥ä»€ä¹ˆ</h3><ul>
<li>é«˜æ€§èƒ½ï¼ˆæ»¥ç”¨åè€Œå¯èƒ½å¯¼è‡´æ€§èƒ½ä½ä¸‹ï¼‰</li>
<li>ä¸å‡ºç° bug</li>
<li>ä¸€åŠ³æ°¸é€¸çš„è®¾è®¡ï¼ˆæ¶æ„åº”è¯¥æ˜¯ä¸æ–­è¿›åŒ–çš„ï¼‰</li>
<li>â€¦â€¦</li>
</ul>
<h2 id="DDD-è½åœ°"><a href="#DDD-è½åœ°" class="headerlink" title="DDD è½åœ°"></a>DDD è½åœ°</h2><p>DDD ä¸€è¯èµ·æºäº Eric Evans çš„ä¸€æœ¬ä¹¦ã€Šé¢†åŸŸé©±åŠ¨è®¾è®¡â€”â€”è½¯ä»¶æ ¸å¿ƒå¤æ‚æ€§åº”å¯¹ä¹‹é“ã€‹ã€‚å¯èƒ½è®¸å¤šåŒå­¦åº”è¯¥éƒ½çŸ¥é“ï¼Œå¹¶ä¸”å¤šå°‘çœ‹è¿‡è¿™æœ¬ä¹¦ï¼Œä½†æ˜¯å¤§å¤šæ•°äººéƒ½ä¼šè§‰å¾—éå¸¸æŠ½è±¡ã€éš¾ä»¥ç†è§£ï¼Œçœ‹å®Œåä¹Ÿä¸çŸ¥é“è¯¥å¦‚ä½•å°†è¿™äº›ç†è®ºè¿ç”¨åˆ°å®è·µä¸­å»ã€‚æˆ‘ä¸ªäººçš„çœ‹æ³•æ˜¯ï¼Œå…¶å®å¹¶ä¸æ˜¯è¿™æœ¬ä¹¦éš¾ä»¥ç†è§£ï¼Œè€Œæ˜¯è¿™æœ¬ä¹¦è¯ç”Ÿäº C/S æ¶æ„æµè¡Œçš„å¹´ä»£ï¼Œé‡Œé¢è®¸å¤šæ¡ˆä¾‹å…¶å®æ˜¯ä»¥ C/S çš„è§’åº¦å»ä¸¾ä¾‹çš„ã€‚è€Œæˆ‘ä»¬ç°åœ¨æµè¡Œçš„æ˜¯ B/S æ¶æ„çš„è½¯ä»¶ï¼Œå¹¶ä¸”è®¸å¤šæ¡†æ¶ï¼ˆå¦‚ Springï¼‰å‡ ä¹å·²ç»æˆä¸ºäº†æœåŠ¡ç«¯è½¯ä»¶å¼€å‘çš„å¿…é€‰é¡¹ï¼Œå¦‚æœåªæ˜¯ç…§æ¬ä¹¦ä¸Šçš„é‚£äº›ä¾‹å­ï¼Œè‡ªç„¶æ˜¯æ— æ³•å¾ˆå¥½åœ°è¿›è¡Œè½åœ°çš„ã€‚</p>
<p>ä»¥ä¸‹è°ˆåŠçš„å†…å®¹æ˜¯æˆ‘åœ¨å¸¦é¢†å›¢é˜Ÿçš„è¿‡ç¨‹ä¸­æ€»ç»“å‡ºæ¥çš„ä¸€äº› DDD åœ¨æœåŠ¡ç«¯çš„è½åœ°å®è·µï¼Œå¹¶ä¸ä»£è¡¨é€‚åˆæ‰€æœ‰å›¢é˜Ÿæˆ–æ‰€æœ‰æŠ€æœ¯æ ˆã€‚</p>
<h3 id="DDD-ç¼–å†™çš„ä»£ç æ‰€å±å±‚æ¬¡"><a href="#DDD-ç¼–å†™çš„ä»£ç æ‰€å±å±‚æ¬¡" class="headerlink" title="DDD ç¼–å†™çš„ä»£ç æ‰€å±å±‚æ¬¡"></a>DDD ç¼–å†™çš„ä»£ç æ‰€å±å±‚æ¬¡</h3><p>æˆ‘ä»¬æŠŠ DDD è®¾è®¡çš„ç›¸å…³ä»£ç æ”¾åˆ° Domain å±‚ï¼Œè¿™ä¸€å±‚æ˜¯ä»‹äºç»å…¸ä¸‰å±‚æ¶æ„ä¸­ Service ä¸ DAO å±‚ä¹‹é—´çš„ç‰¹æ®Šçš„ä¸€å±‚ï¼Œä½†ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è¯´è¿˜æ˜¯å±äº Service å±‚ï¼ˆå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼‰ï¼Œå¯ä»¥æƒ³è±¡æˆåœ¨åŸå…ˆçš„ Service å±‚ä¸Šåˆåˆ’åˆ†äº†ä¸€å±‚å‡ºæ¥ã€‚</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p>TODO::</p>
<p>ç¤ºä¾‹<br>ä¸‹é¢æ˜¯æˆ‘ä»¬åœ¨ JAVA å·¥ç¨‹ä¸­é‡‡ç”¨çš„ä¸€ä¸ª DDD åŒ…ç»“æ„è§„èŒƒ</p>
<p>TODO::</p>
<h3 id="å®ä½“"><a href="#å®ä½“" class="headerlink" title="å®ä½“"></a>å®ä½“</h3><blockquote>
<p>ä»¥æ ‡è¯†ä½œä¸ºå…¶åŸºæœ¬å®šä¹‰çš„å¯¹è±¡ç§°ä¸ºå®ä½“ - Eric Evans </p>
</blockquote>
<p>æ¢å¥è¯è¯´ï¼Œå³æ‰€æœ‰å®ä½“å¿…é¡»æœ‰ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„å®è·µä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ id å­—æ®µä½œä¸ºå®ä½“çš„å”¯ä¸€æ ‡è¯†ã€‚å¦‚æœè¦åŒºåˆ«æŸä¸ªå¯¹è±¡æ˜¯å¦ä¸€ä¸ªå®ä½“ï¼Œåªè¦çœ‹ä»–æ˜¯å¦æœ‰ id å³å¯ã€‚</p>
<p>å®ä½“é™¤äº†å”¯ä¸€æ ‡è¯†å¤–ï¼Œå¾€å¾€è¿˜æœ‰å¾ˆå¤šå…¶å®ƒå±æ€§ï¼Œå› æ­¤å®ä½“å¾€å¾€è¿˜ä¼šä¾èµ–ä¸€ä¸ªä»“å‚¨å¯¹è±¡ã€‚æœ‰å…³ä»“å‚¨ï¼Œä¼šåœ¨åé¢æåŠã€‚</p>
<p>ä¸€ä¸ªå…¸å‹çš„å®ä½“å®šä¹‰å¦‚ä¸‹ï¼š<br>public class Project {<br>    private Long id;<br>    private ProjectRepository repo;</p>
<pre><code>public Project(Long id, ProjectRepository repo) {
    this.id = id;
    this.repo = repo;
}

public ProjectDO data() {
    return repo.selectById(this.id);
}
</code></pre><p>}</p>
<h3 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h3><p>æˆ‘ä»¬å»ºè®®å®ä½“é—´çš„èšåˆé‡‡ç”¨è½¯å…³è”çš„æ–¹å¼ï¼ŒåŸå› æ˜¯åœ¨æœåŠ¡ç«¯å¼€å‘ä¸­ï¼Œè¿™ç§æœ‰çŠ¶æ€çš„å¯¹è±¡æœç”Ÿå¤•ç­çš„æƒ…å†µéå¸¸å¸¸è§ï¼ˆæœåŠ¡ç«¯è¦ç®¡ç†çš„å¯¹è±¡éå¸¸å¤šï¼Œä¸å¯èƒ½å°†æ‰€æœ‰å®ä½“éƒ½å­˜åœ¨å†…å­˜ä¸­ï¼Œä¸€èˆ¬ä¸€ä¸ªè¯·æ±‚è¿‡æ¥æ—¶ä¼šåˆ›å»ºå¯¹è±¡ï¼Œè¯·æ±‚ç»“æŸååœ¨ä¸‹ä¸€æ¬¡ GC è¿™ä¸ªå¯¹è±¡å°±ä¼šè¢«é”€æ¯ï¼‰ï¼Œè€Œå®ä½“ä¹‹é—´çš„å…³è”å¯èƒ½æ˜¯éå¸¸å¤æ‚çš„ï¼Œæ¯æ¬¡ä½¿ç”¨æ—¶éƒ½æ„å»ºä¸€ä¸ªå®Œæ•´çš„èšåˆéå¸¸ä¸åˆ’ç®—ã€‚</p>
<p>å¯ä»¥çœ‹çœ‹ä»¥ä¸‹ä¸¤ç§æ–¹å¼çš„åŒºåˆ«ï¼š</p>
<h4 id="ç¡¬å…³è”"><a href="#ç¡¬å…³è”" class="headerlink" title="ç¡¬å…³è”"></a>ç¡¬å…³è”</h4><p>public class Project {<br>    private Long id;<br>    private List<application> apps;</application></p>
<pre><code>public Project(Long id, List&lt;Application&gt; apps) {
    this.id = id;
    this.apps = apps;
}

public List&lt;Application&gt; listApplications() {
    return this.apps;
}
</code></pre><p>}</p>
<h4 id="è½¯å…³è”"><a href="#è½¯å…³è”" class="headerlink" title="è½¯å…³è”"></a>è½¯å…³è”</h4><p>public class Project {<br>    private Long id;<br>    private ApplicationManager applicationManager;</p>
<pre><code>public Project(Long id, ApplicationManager applicationManager) {
    this.id = id;
    this.applicationManager = applicationManager;
}

public List&lt;Application&gt; listApplications() {
    return this.listAllApplicationId()
        .stream()
        .map(id -&gt; applicationManager.get(id))
        .collect(Collectors.toList())
}
</code></pre><p>}</p>
<h4 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h4><p>Q: å®ä½“å®šä¹‰æ–¹æ³•æ—¶æ˜¯å¦å¯ä»¥ä½¿ç”¨å€¼ç±»å‹<br>A: å¯ä»¥ï¼Œä½†ä¸€èˆ¬æƒ…å†µä¸‹ä¸å»ºè®®ï¼ˆç‰¹æ®Šæƒ…å†µå¯ä»¥è¿™æ ·åšï¼Œå¦‚è€ƒè™‘æ€§èƒ½ç­‰é—®é¢˜çš„æ—¶å€™ï¼‰ï¼Œå› ä¸ºè¿™ä¼šå¯¼è‡´æ–¹æ³•çš„å¤ç”¨æ€§å¤§å¤§é™ä½ã€‚å³ä½¿è¿™æ ·åšäº†ï¼Œä¹Ÿåº”è¯¥å°½é‡è¿”å›è¾ƒé€šç”¨çš„å€¼å¯¹è±¡ï¼ˆå¦‚ DOï¼‰ï¼Œåº”é¿å…ä½¿ç”¨ DTO, VO ç­‰ã€‚</p>
<h3 id="å·¥å‚"><a href="#å·¥å‚" class="headerlink" title="å·¥å‚"></a>å·¥å‚</h3><p>è™½ç„¶åœ¨ä¸Šé¢æˆ‘ä»¬é‡‡ç”¨äº†è½¯å…³è”çš„æ–¹å¼å»ºç«‹å®ä½“ä¹‹é—´çš„å¼•ç”¨å…³ç³»ï¼Œä½†è¿™å¹¶ä¸ä»£è¡¨è¦æ„å»ºä¸€ä¸ªå®ä½“å°±éå¸¸ç®€å•äº†ï¼ŒåŸå› æ˜¯æˆ‘ä»¬çš„å®ä½“é™¤äº†ä¾èµ–å…¶å®ƒå®ä½“å¤–ï¼Œå¾€å¾€è¿˜éœ€è¦ä¾èµ–è®¸å¤šå…¶å®ƒå¯¹è±¡ï¼ˆå¦‚é¢†åŸŸæœåŠ¡ã€Managerã€ä»“å‚¨ç­‰ï¼‰ï¼Œå¹¶ä¸”éšç€ä¸šåŠ¡çš„å˜åŒ–ï¼Œå®ä½“çš„ä¾èµ–å¾€å¾€è¿˜ä¼šéšä¹‹å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœè¿˜æ˜¯é€šè¿‡ä¼ ç»Ÿçš„ new æ–¹å¼å»åˆ›å»ºä¸€ä¸ªå®ä½“ï¼Œä¼šäº§ç”Ÿä¸€äº›ç¾éš¾æ€§çš„é—®é¢˜ï¼š</p>
<ul>
<li>ä½¿ç”¨è€…å¿…é¡»æ¸…æ¥šå®ä½“çš„åˆ›å»ºç»†èŠ‚ï¼Œè¿™ä¼šå¤§å¤§å¢åŠ ä»£ç çš„å¤æ‚åº¦</li>
<li>æ¯å½“å®ä½“çš„æ„é€ æ–¹å¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¸å¾—ä¸è°ƒæ•´æ‰€æœ‰åˆ›å»ºå®ä½“çš„ä»£ç é€»è¾‘ä»¥è§£å†³ä»£ç ç¼–è¯‘é—®é¢˜</li>
</ul>
<p>ç»¼ä¸Šï¼Œå·¥å‚çš„æ¦‚å¿µä¾ç„¶æœ‰å¿…è¦å­˜åœ¨äºæœåŠ¡ç«¯ DDD ä¸­ã€‚</p>
<p>ä¸€ä¸ªé€šç”¨ Factory çš„å®ç°ç¤ºä¾‹å¦‚ä¸‹<br>public abstract class Factory {<br>    private static ProjectRepository projectRepository;</p>
<pre><code>public void setProjectRepository(ProjectRepository projectRepository) {
    this.projectRepository = projectRepository;
}

public Project newProject(Long id) {
    return new Project(id, projectRepository);
}
</code></pre><p>}</p>
<p>è¿™ç§å®ç°è¦æ±‚æˆ‘ä»¬åœ¨åº”ç”¨å¯åŠ¨çš„æ—¶å€™ï¼Œé€šè¿‡é’©å­å‡½æ•°å»ä¸ºè¿™ä¸ª Factory æŠŠæ‰€æœ‰è¦ç”¨åˆ°çš„å¯¹è±¡å‡†å¤‡å¥½ï¼Œæ¯å½“ Factory éœ€è¦çš„ä¾èµ–å˜åŒ–æ—¶ï¼Œéƒ½å¾—è°ƒæ•´è¿™ä¸ªé’©å­å‡½æ•°ï¼Œç¨æ˜¾éº»çƒ¦ã€‚ç°åœ¨æœåŠ¡ç«¯å·²ç»æœ‰è®¸å¤šéå¸¸æˆç†Ÿã€æ–¹ä¾¿çš„ IoC æ¡†æ¶ï¼ˆå¦‚ Springï¼‰ï¼Œæœ‰æ¡ä»¶çš„æ—¶å€™æˆ‘ä»¬ä¹Ÿä¼šç»“åˆè¿™äº›æ¡†æ¶æ¥å®ç° Factoryã€‚</p>
<h4 id="ç»“åˆ-Spring"><a href="#ç»“åˆ-Spring" class="headerlink" title="ç»“åˆ Spring"></a>ç»“åˆ Spring</h4><p>ä¸€ä¸ªåŸºäº Spring å®ç°çš„ Factory å¦‚ä¸‹<br>@Component<br>public class Factory {<br>    @Autowired<br>    private ProjectRepository projectRepository;</p>
<pre><code>public Project newProject(Long id) {
    return new Project(id, projectRepository);
}
</code></pre><p>}</p>
<h3 id="å®ä½“ä»“å‚¨ï¼ˆRepositoryï¼‰-TODO"><a href="#å®ä½“ä»“å‚¨ï¼ˆRepositoryï¼‰-TODO" class="headerlink" title="å®ä½“ä»“å‚¨ï¼ˆRepositoryï¼‰ TODO::"></a>å®ä½“ä»“å‚¨ï¼ˆRepositoryï¼‰ TODO::</h3><p>æˆ‘ä»¬ç§°å…¶ä¸º Managerï¼Œå¯¹åº”çš„å…¶å®æ˜¯ Eric Evans åœ¨ä¹¦ä¸­æåˆ°çš„ä»“å‚¨ï¼ˆå®ä½“ä»“å‚¨ï¼‰ã€‚ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸ä½¿ç”¨ä»“å‚¨è¿™ä¸ªæ¦‚å¿µå‘¢ï¼ŸåŸå› æ˜¯åœ¨æœåŠ¡ç«¯å¼€å‘ä¸­æœ¬èº«å°±æœ‰ä»“å‚¨ï¼ˆæ•°æ®ä»“å‚¨ï¼Œä¹Ÿå« DAOï¼‰è¿™ä¸ªæ¦‚å¿µã€‚ä¸ºäº†é¿å…æ¦‚å¿µæ··æ·†ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å¦ä¸€ä¸ªæ¦‚å¿µ Managerã€‚</p>
<p>ä¸ Eric Evans çš„ä»“å‚¨æ¦‚å¿µå®šä¹‰ä¸€è‡´ï¼ŒManager å¯ä»¥ä¸ºä½¿ç”¨è€…æä¾›å®ä½“çš„åˆ›å»ºã€åˆ é™¤åŠæ¡ä»¶æŸ¥è¯¢æ“ä½œã€‚</p>
<p>Manager å¾€å¾€è¿˜éœ€è¦ä¾èµ–ä»“å‚¨ï¼ˆæŸ¥è¯¢æŒä¹…åŒ–æ•°æ®ï¼‰åŠå·¥å‚ï¼ˆåˆ›å»ºå®ä½“ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥å‘å¸ƒäº‹ä»¶ã€‚</p>
<h3 id="DAO-TODO"><a href="#DAO-TODO" class="headerlink" title="DAO TODO::"></a>DAO TODO::</h3><p>ä¸Šé¢æåˆ°æˆ‘ä»¬ç”¨ Manager è¿™ä¸ªæ¦‚å¿µä»£æ›¿äº†åŸæœ¬ Evans è¯´çš„ä»“å‚¨æ¦‚å¿µï¼Œé‚£ä¹ˆæˆ‘ä»¬ç°åœ¨æåŠçš„ä»“å‚¨æ¦‚å¿µåˆæ˜¯ç”¨æ¥åšä»€ä¹ˆçš„å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬è¿™é‡Œå®šä¹‰çš„ä»“å‚¨åªè´Ÿè´£ä¸æŒä¹…åŒ–æ•°æ®æ‰“äº¤é“ï¼Œå³æ•°æ®ä»“å‚¨ã€‚ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨ ORMï¼Ÿæ˜¯å› ä¸ºæˆ‘ä»¬è€ƒè™‘åˆ°åœ¨ç°åœ¨æµè¡Œçš„å¾®æœåŠ¡æ¶æ„ä¸­ï¼ŒæœåŠ¡æ‹†åˆ†ã€æ²‰æ·€æ˜¯å¾ˆç»å¸¸å‘ç”Ÿçš„äº‹ã€‚åŸå…ˆçš„å¤§æœåŠ¡ä¸­ï¼ŒæŸä¸ªå®ä½“çš„æ•°æ®å¯èƒ½æ˜¯é€šè¿‡ ORM å»æŸ¥è¯¢æ•°æ®åº“å¾—åˆ°çš„ï¼Œè€Œåœ¨æ‹†åˆ†åï¼Œå°±å˜æˆäº†é€šè¿‡è¿œç¨‹è°ƒç”¨å»è·å–äº†ã€‚ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨ä»“å‚¨è¿™ä¸€æ¦‚å¿µä½¿å¾—æŒä¹…åŒ–æ•°æ®çš„æ“ä½œè¿‡ç¨‹å˜å¾—é€æ˜ï¼Œå¦‚æœå‘ç”ŸæœåŠ¡æ‹†åˆ†æ²‰æ·€ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„é¢†åŸŸå±‚ä¸éœ€è¦åšä»»ä½•ä¿®æ”¹ï¼ˆåªè¦æ¦‚å¿µçš„å®šä¹‰æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼‰ï¼Œåªè¦è°ƒæ•´ä»“å‚¨å±‚çš„å®ç°å³å¯ã€‚</p>
<p>ä¸€äº›ä½¿ç”¨åŸåˆ™<br>â— å®ä½“ä¸åº”è¯¥ä¾èµ–å±äºå…¶å®ƒå®ä½“çš„ä»“å‚¨<br>â— å®ä½“ä¸åº”è¯¥ç»•è¿‡ä»“å‚¨ç›´æ¥è®¿é—®æ•°æ®ï¼ˆå¦‚ç›´æ¥æ“ä½œ ORM æ¡†æ¶ï¼‰</p>
<h3 id="é¢†åŸŸæœåŠ¡"><a href="#é¢†åŸŸæœåŠ¡" class="headerlink" title="é¢†åŸŸæœåŠ¡"></a>é¢†åŸŸæœåŠ¡</h3><p>é¢†åŸŸæœåŠ¡ç”¨äºå¤„ç†ä¸€äº›åœ¨æ¦‚å¿µä¸Šä¸å±äºå®ä½“çš„æ“ä½œï¼Œè¿™äº›æ“ä½œæœ¬è´¨ä¸Šå¾€å¾€æ˜¯ä¸€äº›æ´»åŠ¨æˆ–è¡Œä¸ºï¼Œå¹¶ä¸”æ˜¯æ— çŠ¶æ€çš„ã€‚å¯¹äºè¿™ç±»æ“ä½œï¼Œå°†å…¶å¼ºåˆ¶è¿›è¡Œå½’ç±»ä¼šæ˜¾å¾—éå¸¸åˆ«æ‰­ï¼Œäºæ˜¯ä¾¿å¼•å…¥äº†é¢†åŸŸæœåŠ¡è¿™ä¸€æ¦‚å¿µã€‚éœ€è¦æ˜ç¡®çš„æ˜¯ï¼Œå…¶ä¸ä¸‰å±‚æ¶æ„çš„ Service å±‚ï¼ˆåº”ç”¨æœåŠ¡ï¼‰å¹¶ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µã€‚å¦å¤–ä¸ Evans åœ¨ä¹¦ä¸­æåŠçš„ç¤ºä¾‹ä¸åŒï¼Œä¸ºäº†é¿å…æ··ä¹±ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šä¸ºé¢†åŸŸæœåŠ¡çš„ç±»å‘½ååŠ ä¸Š Service åç¼€ã€‚</p>
<p>ç¤ºä¾‹<br>åœ¨æŸä¸ªç®¡ç†ä¸»æœºçš„åº”ç”¨ä¸­ï¼Œå¯ä»¥æŒ‡å®šä¸»æœºæ‰§è¡Œä¸€äº› Shell å‘½ä»¤ï¼Œå¹¶ä¸”ä¼šå°†è¾“å‡ºå…¨éƒ¨å­˜å‚¨èµ·æ¥ã€‚ä½†ç”±äºè¯¥æ“ä½œæ‰§è¡Œé¢‘ç¹ï¼Œå› æ­¤è¾“å‡ºè®°å½•ä¼šç›¸å½“åºå¤§ï¼Œéœ€è¦éœ€è¦å®šæ—¶æŸ¥æ‰¾è¶…è¿‡ 15 å¤©çš„æ‰§è¡Œè®°å½•å¹¶å°†å…¶æ¸…ç†ã€‚</p>
<p>åœ¨ä»¥ä¸ŠèƒŒæ™¯ä¸­ï¼Œå­˜åœ¨å‡ ä¸ªå®ä½“ï¼šHostã€Execã€ExecOutputã€‚ä»æˆ‘ä»¬çš„æè¿°ä¸­å¯çŸ¥ï¼Œæˆ‘ä»¬éœ€è¦å®Œæˆçš„è¿™ä¸ªæ“ä½œæ— æ³•å½’ç±»åˆ°ä»»ä½•ä¸€ä¸ªå®ä½“ä¸­ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ª ExecClearer çš„é¢†åŸŸæœåŠ¡æ¥å¸®åŠ©æˆ‘ä»¬å®Œæˆè¯¥æ“ä½œã€‚</p>
<p>ç”±äºé¢†åŸŸæœåŠ¡æ˜¯æ— çŠ¶æ€çš„ï¼Œå› æ­¤æˆ‘ä»¬ä¸€èˆ¬å°†å…¶å®šä¹‰ä¸ºå•ä¾‹<br>@Compoment<br>public class ExecClearer {<br>    private ExecManager execManager;</p>
<pre><code>public void clearOutDated(Integer interval) {
    // ä»¥ä¸‹å®ç°ä»£ç ä¸æˆ‘ä»¬è¦è¯´æ˜çš„å†…å®¹æ— å…³ï¼Œå¯ä»¥æ— è§†
    OutDatedExecFinder finder = new OutDatedExecFinder(interval, execManager);
    while (finder.hasNext()) {
        finder.nextCollection()
            .stream().forEach(Exec::destroy);
    }
}
</code></pre><p>}</p>
<p>åœ¨å…¶å®ƒåœ°æ–¹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ³¨å…¥è¯¥é¢†åŸŸæœåŠ¡ï¼Œå¹¶ä½¿ç”¨<br>@Slf4j<br>@Component<br>public class ExecScheduledTask {</p>
<pre><code>@Autowired
private ExecClearer clearer;

@Value(&quot;${exec.output.interval.days:15}&quot;)
private Integer intervalDays;

@Scheduled(cron = &quot;0 0 0 * * ?&quot;)
public void deleteExecData() {
    log.info(&quot;starting clear exec data, intervalDays=&gt;{}&quot;, intervalDays);
    clearer.clearOutDated(intervalDays);
    log.info(&quot;clear exec data end&quot;);
}
</code></pre><p>}</p>
<h3 id="é¢†åŸŸäº‹ä»¶"><a href="#é¢†åŸŸäº‹ä»¶" class="headerlink" title="é¢†åŸŸäº‹ä»¶"></a>é¢†åŸŸäº‹ä»¶</h3><p>åœ¨æˆ‘ä»¬çš„é¢†åŸŸæ´»åŠ¨ï¼ˆå®ä½“ã€Manager ç­‰æ“ä½œï¼‰ä¸­ä¼šå‡ºç°ä¸€ç³»åˆ—çš„é‡è¦çš„äº‹ä»¶ï¼Œè€Œè¿™äº›äº‹ä»¶çš„è®¢é˜…è€…ï¼Œå¾€å¾€éœ€è¦å¯¹è¿™äº›äº‹ä»¶ä½œå‡ºå“åº”ï¼ˆä¾‹å¦‚ï¼Œæ–°å¢ç”¨æˆ·åï¼Œå¯èƒ½ä¼šè§¦å‘ä¸€ç³»åˆ—åŠ¨ä½œï¼šå‘é€æ¬¢è¿ä¿¡æ¯ã€å‘æ”¾ä¼˜æƒ åˆ¸ç­‰ç­‰ï¼‰ã€‚é¢†åŸŸäº‹ä»¶å¯ä»¥ç®€å•åœ°ç†è§£ä¸ºæ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼åœ¨ DDD ä¸­çš„ä¸€ç§è¿ç”¨ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„å®è·µä¸­ï¼Œä¸€èˆ¬é‡‡ç”¨äº‹ä»¶æ€»çº¿æ¥å¿«é€Ÿåœ°å‘å¸ƒä¸€ä¸ªé¢†åŸŸäº‹ä»¶ã€‚</p>
<p>äº‹ä»¶æ€»çº¿çš„æ¥å£å®šä¹‰ä¸€èˆ¬å¦‚ä¸‹<br>public interface EventBus {<br>    void post(Event event);<br>}</p>
<p>é€šè¿‡è°ƒç”¨ EventBus.post() æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿå‘å¸ƒä¸€ä¸ªäº‹ä»¶ã€‚</p>
<p>åŒæ—¶æˆ‘ä»¬è¿˜ä¼šæä¾›ä¸€ä¸ªæŠ½è±¡ç±» AbstractEventPublisher </p>
<p>public class AbstractEventPublisher implements EventPublisher {<br>    private EventBus eventBus;</p>
<pre><code>public void setEventBus(EventBus eventBus) {
    this.eventBus = eventBus;
}

@Override
public void publish(Event event) {
    if (eventBus != null) {
        eventBus.post(event);
    } else {
        log.warn(&quot;event bus is null. event &quot; + event.getClass() + &quot; will not be published!&quot;);
    }
}
</code></pre><p>}</p>
<p>public interface EventPublisher {<br>    void publish(Event event);<br>}</p>
<p>è¿™æ ·æˆ‘ä»¬å¯ä»¥è®©å®ä½“æˆ– Manager ç»§æ‰¿è‡ª AbstractEventPublisherï¼Œå…¶ä¾¿æœ‰äº†å‘å¸ƒäº‹ä»¶çš„èƒ½åŠ›ã€‚è‡³äºå¦‚ä½•è®¢é˜…å¹¶å¤„ç†è¿™äº›äº‹ä»¶ï¼Œå–å†³äº EventBus çš„å®ç°æ–¹å¼ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ Guava çš„ EventBusï¼Œå®šä¹‰ç›¸å…³çš„ handler å¹¶æ³¨å†Œåˆ° EventBus ä¸­ä¾¿å¯æ–¹ä¾¿åœ°å¤„ç†è¿™äº›äº‹ä»¶</p>
<p>@Component<br>public class DomainEventBus extends EventBus implements InitializingBean {<br>    @Autowired<br>    private FooEventHandler fooEventHandler;</p>
<pre><code>@Override
public void afterPropertiesSet() {
    this.register(fooEventHandler);
}
</code></pre><p>}</p>
<p>@Component<br>@Slf4j<br>public class FooEventHandler implements DomainEventHandler {<br>    @Override<br>    @Subscribe<br>    public void listen(ProjectCreatEvent e) {<br>        // do something hereâ€¦<br>    }<br>}</p>
<p>å…¶å®ƒ<br>TODO::<br>â— ddd-support</p>
<h3 id="DDD-è®¾è®¡"><a href="#DDD-è®¾è®¡" class="headerlink" title="DDD è®¾è®¡"></a>DDD è®¾è®¡</h3><p>ç†è§£äº† DDD ä¸­çš„å…¨éƒ¨æ¦‚å¿µï¼Œä¹Ÿå¹¶ä¸æ„å‘³ç€å°±èƒ½åšå‡ºä¸€ä¸ªå¥½çš„è®¾è®¡äº†ã€‚</p>
<!-- DDD è®¾è®¡ä¸­æœ€é‡è¦çš„å…¶å®æ˜¯å®ä½“çš„å®šä¹‰ï¼Œ -->
<p>DDD çš„è®¾è®¡æœ€é‡è¦çš„æ˜¯åšå¥½ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>å‡†ç¡®åœ°å®šä¹‰å®ä½“</li>
<li>å‡†ç¡®åœ°å®šä¹‰å®ä½“åº”è¯¥æœ‰å“ªäº›æ–¹æ³•</li>
<li>ç¡®ç«‹å®ä½“ä¸å®ä½“ä¹‹é—´çš„å…³ç³»</li>
</ol>
<p>å®ä½“çš„è®¾è®¡å…¶å®æ˜¯ä¸€ä¸ªå»ºæ¨¡çš„è¿‡ç¨‹ã€‚é¢å‘å¯¹è±¡çš„è®¾è®¡æ–¹æ³•æœ¬è´¨å°±æ˜¯å°†ç°å®ä¸–ç•Œçš„å¯¹è±¡å…³ç³»ä»¥ç®€åŒ–çš„å½¢å¼æç‚¼ä¸ºæ¨¡å‹ã€‚å…³äºè¿™ä¸€å—ï¼Œå·²ç»æ˜¯ä¸€ä¸ªæ›´å¤§çš„è¯é¢˜äº†ï¼Œä¸åœ¨è¿™é‡Œè®¨è®ºã€‚</p>
<p>æ¡ˆä¾‹å·¥ç¨‹<br>TODO::</p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/ddd_practice_in_java_server_side.html" rel="prev" title="DDD æˆ˜æœ¯è®¾è®¡ä¹‹ Java æœåŠ¡ç«¯è½åœ°ç®€è¦æ–¹æ¡ˆæ¢è®¨">
      <i class="fa fa-chevron-left"></i> DDD æˆ˜æœ¯è®¾è®¡ä¹‹ Java æœåŠ¡ç«¯è½åœ°ç®€è¦æ–¹æ¡ˆæ¢è®¨
    </a></div>
      <div class="post-nav-item">
    <a href="/undefined.html" rel="next" title="">
       <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#å‰è¨€"><span class="nav-number">1.</span> <span class="nav-text">å‰è¨€</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä»€ä¹ˆæ˜¯-DDD"><span class="nav-number">2.</span> <span class="nav-text">ä»€ä¹ˆæ˜¯ DDD</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DDD-èƒ½å¸¦æ¥ä»€ä¹ˆ"><span class="nav-number">2.1.</span> <span class="nav-text">DDD èƒ½å¸¦æ¥ä»€ä¹ˆ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DDD-ä¸èƒ½å¸¦æ¥ä»€ä¹ˆ"><span class="nav-number">2.2.</span> <span class="nav-text">DDD ä¸èƒ½å¸¦æ¥ä»€ä¹ˆ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DDD-è½åœ°"><span class="nav-number">3.</span> <span class="nav-text">DDD è½åœ°</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DDD-ç¼–å†™çš„ä»£ç æ‰€å±å±‚æ¬¡"><span class="nav-number">3.1.</span> <span class="nav-text">DDD ç¼–å†™çš„ä»£ç æ‰€å±å±‚æ¬¡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å®ä½“"><span class="nav-number">3.2.</span> <span class="nav-text">å®ä½“</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¼•ç”¨"><span class="nav-number">3.3.</span> <span class="nav-text">å¼•ç”¨</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ç¡¬å…³è”"><span class="nav-number">3.3.1.</span> <span class="nav-text">ç¡¬å…³è”</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#è½¯å…³è”"><span class="nav-number">3.3.2.</span> <span class="nav-text">è½¯å…³è”</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#FAQ"><span class="nav-number">3.3.3.</span> <span class="nav-text">FAQ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å·¥å‚"><span class="nav-number">3.4.</span> <span class="nav-text">å·¥å‚</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ç»“åˆ-Spring"><span class="nav-number">3.4.1.</span> <span class="nav-text">ç»“åˆ Spring</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å®ä½“ä»“å‚¨ï¼ˆRepositoryï¼‰-TODO"><span class="nav-number">3.5.</span> <span class="nav-text">å®ä½“ä»“å‚¨ï¼ˆRepositoryï¼‰ TODO::</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DAO-TODO"><span class="nav-number">3.6.</span> <span class="nav-text">DAO TODO::</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é¢†åŸŸæœåŠ¡"><span class="nav-number">3.7.</span> <span class="nav-text">é¢†åŸŸæœåŠ¡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é¢†åŸŸäº‹ä»¶"><span class="nav-number">3.8.</span> <span class="nav-text">é¢†åŸŸäº‹ä»¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DDD-è®¾è®¡"><span class="nav-number">3.9.</span> <span class="nav-text">DDD è®¾è®¡</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="taccisum"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">taccisum</p>
  <div class="site-description" itemprop="description">el psy congroo.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">31</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/taccisum" title="GitHub â†’ https://github.com/taccisum" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/taccisum@gmail.com" title="G-Mail â†’ taccisum@gmail.com"><i class="fa fa-envelope fa-fw"></i>G-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">taccisum</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>



  




  <script src="/js/local-search.js"></script>












  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'q1GTC85aQcIvQIf3p9tWLTvW-gzGzoHsz',
      appKey     : 'OjWCd5UV1xcOyCEfsSzu9w7z',
      placeholder: "æ¬¢è¿ç•…æ‰€æ¬²è¨€",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
